"use strict";!function(){function e(){i.classList.add("active")}function n(){i.classList.remove("active"),console.log("close")}var t=document.querySelector(".hamburger");if(t){var o=t.querySelector(".hamburger__trigger"),i=document.querySelector(".hamburger__wrapper");if(o&&i){var r=t.querySelector(".hamburger__exit");o.addEventListener("click",e),r.addEventListener("click",n)}}}(),function(){function e(){r.requestAnimationFrame(n)}function n(){for(var e in i)if(i.hasOwnProperty(e))for(var n=0;n<i[e].length;n++)t(i[e][n],e)}function t(e,n){o(e)&&e.classList.add("fadeIn"+n+"--animate")}function o(e){var n=e.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,r.innerHeight)/1.2;return!(n.bottom<0||n.top-t>=0)}var i={Static:document.querySelectorAll(".fadeIn"),Up:document.querySelectorAll(".fadeInUp"),Down:document.querySelectorAll(".fadeInDown"),Left:document.querySelectorAll(".fadeInLeft"),Right:document.querySelectorAll(".fadeInRight")},r=window;i&&(r.addEventListener("scroll",e,!1),n())}(),function(){function e(){(window.pageYOffset|document.body.scrollTop)>=r?(n.classList.add("navigation--small"),n.classList.remove("container"),i.classList.add("container")):(n.classList.remove("navigation--small"),n.classList.add("container"),i.classList.remove("container"))}var n=document.querySelector(".navigation"),t=window;if(n){var o=document.querySelector("#intro"),i=document.querySelector(".navigation__parent");if(o&&i){var r=o.clientHeight;r+=n.clientHeight/2,t.addEventListener("scroll",e)}}}(),function(){function e(e){function n(){var e="now"in window.performance?performance.now():(new Date).getTime(),a=Math.min(1,(e-c)/t),l=r[o](a);if(window.scroll(0,Math.ceil(l*(s-u)+u)),window.pageYOffset>=s-1)return void(i&&i());requestAnimationFrame(n)}var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear",i=arguments[3],r={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},u=window.pageYOffset,c="now"in window.performance?performance.now():(new Date).getTime(),a=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),l=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,d="number"==typeof e?e:e.offsetTop,s=Math.round(a-d<l?a-l:d);if("requestAnimationFrame"in window==!1)return window.scroll(0,s),void(i&&i());n()}document.querySelectorAll(".visual-cue__link").forEach(function(n){n.addEventListener("click",function(t){var o=n.href,i=o.substring(o.indexOf("#"));document.getElementById(i),e(document.querySelector(""+i),1e3,"easeInOutCubic")})})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbWJ1cmdlci5qcyIsImFuaW1hdGUuanMiLCJtZW51LmpzIiwic2Nyb2xsLmpzIl0sIm5hbWVzIjpbIm1lbnVCZWhhdmlvdXIiLCJtZW51IiwiY2xhc3NMaXN0IiwiYWRkIiwiY2xvc2VCZWhhdmlvdXIiLCJyZW1vdmUiLCJjb25zb2xlIiwibG9nIiwiaGVhZGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGFtYnVyZ2VyIiwiY2xvc2UiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0QW5pbWF0aW9uRnJhbWUiLCJ3IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0QW5pbWF0aW9ucyIsImRpcmVjdGlvbiIsImVsZW1lbnRzIiwiaGFzT3duUHJvcGVydHkiLCJpIiwibGVuZ3RoIiwiZmFkZU9uU2hvdyIsImVsIiwiY2hlY2tQb3NpdGlvbiIsImVsZW1lbnQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwidmlld0hlaWdodCIsIk1hdGgiLCJtYXgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJpbm5lckhlaWdodCIsImJvdHRvbSIsInRvcCIsIlN0YXRpYyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJVcCIsIkRvd24iLCJMZWZ0IiwiUmlnaHQiLCJ3aW5kb3ciLCJjaGFuZ2VOYXYiLCJwYWdlWU9mZnNldCIsImJvZHkiLCJzY3JvbGxUb3AiLCJtYXhOYXZQb3MiLCJuYXZQYXJlbnQiLCJpbnRyb1NlY3Rpb24iLCJzY3JvbGxJdCIsImRlc3RpbmF0aW9uIiwic2Nyb2xsIiwibm93IiwicGVyZm9ybWFuY2UiLCJEYXRlIiwiZ2V0VGltZSIsInRpbWUiLCJtaW4iLCJzdGFydFRpbWUiLCJkdXJhdGlvbiIsInRpbWVGdW5jdGlvbiIsImVhc2luZ3MiLCJlYXNpbmciLCJjZWlsIiwiZGVzdGluYXRpb25PZmZzZXRUb1Njcm9sbCIsInN0YXJ0IiwiY2FsbGJhY2siLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJsaW5lYXIiLCJ0IiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImRvY3VtZW50SGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwid2luZG93SGVpZ2h0IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJkZXN0aW5hdGlvbk9mZnNldCIsIm9mZnNldFRvcCIsInJvdW5kIiwiZm9yRWFjaCIsImUiLCJocmVmIiwiaWRUb1Njcm9sbFRvIiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUVBLFdBc0JBLFFBQUFBLEtBQ0FDLEVBQUFDLFVBQUFDLElBQUEsVUFHQSxRQUFBQyxLQUNBSCxFQUFBQyxVQUFBRyxPQUFBLFVBQ0FDLFFBQUFDLElBQUEsU0F6QkEsR0FBQUMsR0FBQUMsU0FBQUMsY0FBQSxhQUdBLElBQUFGLEVBQUEsQ0FJQSxHQUFBRyxHQUFBSCxFQUFBRSxjQUFBLHVCQUNBVCxFQUFBUSxTQUFBQyxjQUFBLHNCQUVBLElBQUFDLEdBQUFWLEVBQUEsQ0FJQSxHQUFBVyxHQUFBSixFQUFBRSxjQUFBLG1CQUVBQyxHQUFBRSxpQkFBQSxRQUFBYixHQUNBWSxFQUFBQyxpQkFBQSxRQUFBVCxRQ3BCQSxXQW1CQSxRQUFBVSxLQUNBQyxFQUFBQyxzQkFBQUMsR0FHQSxRQUFBQSxLQUNBLElBQUEsR0FBQUMsS0FBQUMsR0FDQSxHQUFBQSxFQUFBQyxlQUFBRixHQUVBLElBQUEsR0FBQUcsR0FBQSxFQUFBQSxFQUFBRixFQUFBRCxHQUFBSSxPQUFBRCxJQUNBRSxFQUFBSixFQUFBRCxHQUFBRyxHQUFBSCxHQU1BLFFBQUFLLEdBQUFDLEVBQUFOLEdBQ0FPLEVBQUFELElB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LEdBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEdBRUFXLGFBQUEsU0FBQVgsR0FDQSxNQUFBLEtBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEdBRUFZLGVBQUEsU0FBQVosR0FDQSxNQUFBQSxHQUFBLEdBQUEsR0FBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsRUFBQSxFQUFBLEtBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLElBSUFMLEVBQUF4QixPQUFBRSxZQUNBZSxFQUFBLE9BQUFqQixRQUFBWSxZQUFBQSxZQUFBRCxPQUFBLEdBQUFFLE9BQUFDLFVBRUE0QixFQUFBdkQsS0FBQUMsSUFBQXRCLFNBQUFxQyxLQUFBd0MsYUFBQTdFLFNBQUFxQyxLQUFBeUMsYUFBQTlFLFNBQUF1QixnQkFBQUMsYUFBQXhCLFNBQUF1QixnQkFBQXNELGFBQUE3RSxTQUFBdUIsZ0JBQUF1RCxjQUNBQyxFQUFBN0MsT0FBQVQsYUFBQXpCLFNBQUF1QixnQkFBQUMsY0FBQXhCLFNBQUFnRixxQkFBQSxRQUFBLEdBQUF4RCxhQUNBeUQsRUFBQSxnQkFBQXRDLEdBQUFBLEVBQUFBLEVBQUF1QyxVQUNBekIsRUFBQXBDLEtBQUE4RCxNQUFBUCxFQUFBSyxFQUFBRixFQUFBSCxFQUFBRyxFQUFBRSxFQUVBLElBQUEseUJBQUEvQyxVQUFBLEVBS0EsTUFKQUEsUUFBQVUsT0FBQSxFQUFBYSxRQUNBRSxHQUNBQSxJQXNCQWYsS0FHQTVDLFNBQUE2QixpQkFBQSxxQkFFQXVELFFBQUEsU0FBQXJFLEdBQ0FBLEVBQUFYLGlCQUFBLFFBQUEsU0FBQWlGLEdBRUEsR0FBQUMsR0FBQXZFLEVBQUF1RSxLQUNBQyxFQUFBRCxFQUFBRSxVQUFBRixFQUFBRyxRQUFBLEtBQ0F6RixVQUFBMEYsZUFBQUgsR0FFQTdDLEVBQUExQyxTQUFBQyxjQUFBLEdBQUFzRixHQUFBLElBQUEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyXCIpO1xuXG5cdC8vY2hlY2sgaWYgdGhlcmUgaXMgYSBoZWFkZXJcblx0aWYgKCFoZWFkZXIpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgaGFtYnVyZ2VyID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyX190cmlnZ2VyXCIpLFxuXHQgICAgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyX193cmFwcGVyXCIpO1xuXG5cdGlmICghaGFtYnVyZ2VyIHx8ICFtZW51KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIGNsb3NlID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyX19leGl0XCIpO1xuXG5cdGhhbWJ1cmdlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbWVudUJlaGF2aW91cik7XG5cdGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUJlaGF2aW91cik7XG5cblx0ZnVuY3Rpb24gbWVudUJlaGF2aW91cigpIHtcblx0XHRtZW51LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG5cdH1cblxuXHRmdW5jdGlvbiBjbG9zZUJlaGF2aW91cigpIHtcblx0XHRtZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG5cdFx0Y29uc29sZS5sb2coXCJjbG9zZVwiKTtcblx0fVxufSkoKTsiLCIndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBlbGVtZW50cyA9IHtcblx0XHRTdGF0aWM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYWRlSW4nKSxcblx0XHRVcDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZhZGVJblVwJyksXG5cdFx0RG93bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZhZGVJbkRvd24nKSxcblx0XHRMZWZ0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFkZUluTGVmdCcpLFxuXHRcdFJpZ2h0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFkZUluUmlnaHQnKVxuXHR9O1xuXHR2YXIgdyA9IHdpbmRvdztcblxuXHRpZiAoIWVsZW1lbnRzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzZXRBbmltYXRpb25GcmFtZSwgZmFsc2UpO1xuXG5cdHNldEFuaW1hdGlvbnMoKTtcblx0ZnVuY3Rpb24gc2V0QW5pbWF0aW9uRnJhbWUoKSB7XG5cdFx0dy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2V0QW5pbWF0aW9ucyk7XG5cdH1cblxuXHRmdW5jdGlvbiBzZXRBbmltYXRpb25zKCkge1xuXHRcdGZvciAodmFyIGRpcmVjdGlvbiBpbiBlbGVtZW50cykge1xuXHRcdFx0aWYgKGVsZW1lbnRzLmhhc093blByb3BlcnR5KGRpcmVjdGlvbikpIHtcblxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzW2RpcmVjdGlvbl0ubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRmYWRlT25TaG93KGVsZW1lbnRzW2RpcmVjdGlvbl1baV0sIGRpcmVjdGlvbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBmYWRlT25TaG93KGVsLCBkaXJlY3Rpb24pIHtcblx0XHR2YXIgYW5pbWF0ZU1pbiA9IGNoZWNrUG9zaXRpb24oZWwpO1xuXG5cdFx0aWYgKGFuaW1hdGVNaW4pIHtcblx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoJ2ZhZGVJbicgKyBkaXJlY3Rpb24gKyAnLS1hbmltYXRlJyk7XG5cdFx0XHQvLyBlbC5jbGFzc0xpc3QucmVtb3ZlKCdmYWRlSW4nICsgZGlyZWN0aW9uICsgJy0taGlkZGVuJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gZWwuY2xhc3NMaXN0LmFkZCgnZmFkZUluJyArIGRpcmVjdGlvbiArICctLWhpZGRlbicpO1xuXHRcdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gY2hlY2tQb3NpdGlvbihlbGVtZW50KSB7XG5cblx0XHR2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG5cdFx0ICAgIHZpZXdIZWlnaHQgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCB3LmlubmVySGVpZ2h0KSAvIDEuMjtcblxuXHRcdHJldHVybiAhKHJlY3QuYm90dG9tIDwgMCB8fCByZWN0LnRvcCAtIHZpZXdIZWlnaHQgPj0gMCk7XG5cdH1cblxuXHQvLyBpZihlbGVtZW50cy5sZW5ndGggPD0gMCkge1xuXHQvLyBcdHJldHVybjtcblx0Ly8gfVxuXG5cdC8vIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcblx0Ly8gXHRjb25zb2xlLmxvZyhlbCk7XG5cblx0Ly8gXHRsZXQgcGFnZU9mZnNldCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcblxuXHQvLyBcdGxldCBlbGVtZW50ID0ge1xuXHQvLyBcdFx0dXA6IGVsLmNsYXNzTGlzdC5jb250YWlucyhcImZhZGVJbi0tdXBcIiksXG5cdC8vIFx0XHRkb3duOiBlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJmYWRlSW4tLWRvd25cIiksXG5cdC8vIFx0XHRsZWZ0OiBlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJmYWRlSW4tLWxlZnRcIiksXG5cdC8vIFx0XHRyaWdodDogZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZmFkZUluLS1yaWdodFwiKVxuXHQvLyBcdH1cblxuXHQvLyBcdGZvciAodmFyIGRpcmVjdGlvbiBpbiBlbGVtZW50KSB7XG5cdC8vIFx0XHRpZihlbGVtZW50W2RpcmVjdGlvbl0pIHtcblx0Ly8gXHRcdFx0Y29uc29sZS5sb2coZGlyZWN0aW9uKTtcblx0Ly8gXHRcdH1cblx0Ly8gXHR9XG5cblx0Ly8gXHRjb25zb2xlLmxvZyhwYWdlT2Zmc2V0KTtcblxuXHQvLyBcdC8vIGxldCBlbGVtZW50TGVmdCA9IGVsLmNsYXNzTGlzdC5jb250YWlucygnZmFkZUluLS1sZWZ0Jyk7XG5cblx0Ly8gXHQvLyBjb25zb2xlLmxvZyhlbGVtZW50TGVmdCk7XG5cdC8vIH0pO1xuXG5cdC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG5cdC8vIFx0bGV0IHNjcm9sbFBvc2l0aW9uID0gd2luZG93LnNjcm9sbFkgfHwgd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG5cdC8vIFx0Y29uc29sZS5sb2coc2Nyb2xsUG9zaXRpb24pO1xuXG5cdC8vIH0pO1xuXG59KSgpOyIsIid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24nKSxcbiAgICAgICAgdyA9IHdpbmRvdztcblxuICAgIGlmICghbWVudSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGludHJvU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnRybycpO1xuICAgIHZhciBuYXZQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbl9fcGFyZW50Jyk7XG5cbiAgICBpZiAoIWludHJvU2VjdGlvbiB8fCAhbmF2UGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbWF4TmF2UG9zID0gaW50cm9TZWN0aW9uLmNsaWVudEhlaWdodDtcbiAgICBtYXhOYXZQb3MgKz0gbWVudS5jbGllbnRIZWlnaHQgLyAyO1xuXG4gICAgdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBjaGFuZ2VOYXYpO1xuXG4gICAgZnVuY3Rpb24gY2hhbmdlTmF2KCkge1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSB3aW5kb3cucGFnZVlPZmZzZXQgfCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcblxuICAgICAgICBpZiAob2Zmc2V0ID49IG1heE5hdlBvcykge1xuICAgICAgICAgICAgbWVudS5jbGFzc0xpc3QuYWRkKCduYXZpZ2F0aW9uLS1zbWFsbCcpO1xuICAgICAgICAgICAgbWVudS5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWluZXInKTtcbiAgICAgICAgICAgIG5hdlBhcmVudC5jbGFzc0xpc3QuYWRkKCdjb250YWluZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnbmF2aWdhdGlvbi0tc21hbGwnKTtcbiAgICAgICAgICAgIG1lbnUuY2xhc3NMaXN0LmFkZCgnY29udGFpbmVyJyk7XG4gICAgICAgICAgICBuYXZQYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFpbmVyJyk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwic2Nyb2xsaW5nXCIpO1xuXG4gICAgICAgIC8vIGxldCBzY3JvbGxQb3NZID0gd2luZG93LnBhZ2VZT2Zmc2V0IHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIGlmKHNjcm9sbFBvc1kgPiAxMDApIHtcbiAgICAgICAgLy8gXHRtZW51LmNsYXNzTGlzdC5hZGQoJ25hdmlnYXRpb25fX3Njcm9sbGluZycpO1xuICAgICAgICAvLyB9IGVsc2UgaWYoc2Nyb2xsUG9zWSA8PSAxMDApIHtcbiAgICAgICAgLy8gXHRtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ25hdmlnYXRpb25fX3Njcm9sbGluZycpO1xuICAgICAgICAvLyB9XG4gICAgfVxufSkoKTsiLCIndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGZ1bmN0aW9uIHNjcm9sbEl0KGRlc3RpbmF0aW9uKSB7XG5cdFx0dmFyIGR1cmF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAyMDA7XG5cdFx0dmFyIGVhc2luZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2xpbmVhcic7XG5cdFx0dmFyIGNhbGxiYWNrID0gYXJndW1lbnRzWzNdO1xuXG5cblx0XHR2YXIgZWFzaW5ncyA9IHtcblx0XHRcdGxpbmVhcjogZnVuY3Rpb24gbGluZWFyKHQpIHtcblx0XHRcdFx0cmV0dXJuIHQ7XG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluUXVhZDogZnVuY3Rpb24gZWFzZUluUXVhZCh0KSB7XG5cdFx0XHRcdHJldHVybiB0ICogdDtcblx0XHRcdH0sXG5cdFx0XHRlYXNlT3V0UXVhZDogZnVuY3Rpb24gZWFzZU91dFF1YWQodCkge1xuXHRcdFx0XHRyZXR1cm4gdCAqICgyIC0gdCk7XG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluT3V0UXVhZDogZnVuY3Rpb24gZWFzZUluT3V0UXVhZCh0KSB7XG5cdFx0XHRcdHJldHVybiB0IDwgMC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQ7XG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluQ3ViaWM6IGZ1bmN0aW9uIGVhc2VJbkN1YmljKHQpIHtcblx0XHRcdFx0cmV0dXJuIHQgKiB0ICogdDtcblx0XHRcdH0sXG5cdFx0XHRlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uIGVhc2VPdXRDdWJpYyh0KSB7XG5cdFx0XHRcdHJldHVybiAtLXQgKiB0ICogdCArIDE7XG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uIGVhc2VJbk91dEN1YmljKHQpIHtcblx0XHRcdFx0cmV0dXJuIHQgPCAwLjUgPyA0ICogdCAqIHQgKiB0IDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxO1xuXHRcdFx0fSxcblx0XHRcdGVhc2VJblF1YXJ0OiBmdW5jdGlvbiBlYXNlSW5RdWFydCh0KSB7XG5cdFx0XHRcdHJldHVybiB0ICogdCAqIHQgKiB0O1xuXHRcdFx0fSxcblx0XHRcdGVhc2VPdXRRdWFydDogZnVuY3Rpb24gZWFzZU91dFF1YXJ0KHQpIHtcblx0XHRcdFx0cmV0dXJuIDEgLSAtLXQgKiB0ICogdCAqIHQ7XG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uIGVhc2VJbk91dFF1YXJ0KHQpIHtcblx0XHRcdFx0cmV0dXJuIHQgPCAwLjUgPyA4ICogdCAqIHQgKiB0ICogdCA6IDEgLSA4ICogLS10ICogdCAqIHQgKiB0O1xuXHRcdFx0fSxcblx0XHRcdGVhc2VJblF1aW50OiBmdW5jdGlvbiBlYXNlSW5RdWludCh0KSB7XG5cdFx0XHRcdHJldHVybiB0ICogdCAqIHQgKiB0ICogdDtcblx0XHRcdH0sXG5cdFx0XHRlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uIGVhc2VPdXRRdWludCh0KSB7XG5cdFx0XHRcdHJldHVybiAxICsgLS10ICogdCAqIHQgKiB0ICogdDtcblx0XHRcdH0sXG5cdFx0XHRlYXNlSW5PdXRRdWludDogZnVuY3Rpb24gZWFzZUluT3V0UXVpbnQodCkge1xuXHRcdFx0XHRyZXR1cm4gdCA8IDAuNSA/IDE2ICogdCAqIHQgKiB0ICogdCAqIHQgOiAxICsgMTYgKiAtLXQgKiB0ICogdCAqIHQgKiB0O1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgc3RhcnQgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cdFx0dmFyIHN0YXJ0VGltZSA9ICdub3cnIGluIHdpbmRvdy5wZXJmb3JtYW5jZSA/IHBlcmZvcm1hbmNlLm5vdygpIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cblx0XHR2YXIgZG9jdW1lbnRIZWlnaHQgPSBNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpO1xuXHRcdHZhciB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmNsaWVudEhlaWdodDtcblx0XHR2YXIgZGVzdGluYXRpb25PZmZzZXQgPSB0eXBlb2YgZGVzdGluYXRpb24gPT09ICdudW1iZXInID8gZGVzdGluYXRpb24gOiBkZXN0aW5hdGlvbi5vZmZzZXRUb3A7XG5cdFx0dmFyIGRlc3RpbmF0aW9uT2Zmc2V0VG9TY3JvbGwgPSBNYXRoLnJvdW5kKGRvY3VtZW50SGVpZ2h0IC0gZGVzdGluYXRpb25PZmZzZXQgPCB3aW5kb3dIZWlnaHQgPyBkb2N1bWVudEhlaWdodCAtIHdpbmRvd0hlaWdodCA6IGRlc3RpbmF0aW9uT2Zmc2V0KTtcblxuXHRcdGlmICgncmVxdWVzdEFuaW1hdGlvbkZyYW1lJyBpbiB3aW5kb3cgPT09IGZhbHNlKSB7XG5cdFx0XHR3aW5kb3cuc2Nyb2xsKDAsIGRlc3RpbmF0aW9uT2Zmc2V0VG9TY3JvbGwpO1xuXHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gc2Nyb2xsKCkge1xuXG5cdFx0XHR2YXIgbm93ID0gJ25vdycgaW4gd2luZG93LnBlcmZvcm1hbmNlID8gcGVyZm9ybWFuY2Uubm93KCkgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0XHRcdHZhciB0aW1lID0gTWF0aC5taW4oMSwgKG5vdyAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHR2YXIgdGltZUZ1bmN0aW9uID0gZWFzaW5nc1tlYXNpbmddKHRpbWUpO1xuXHRcdFx0d2luZG93LnNjcm9sbCgwLCBNYXRoLmNlaWwodGltZUZ1bmN0aW9uICogKGRlc3RpbmF0aW9uT2Zmc2V0VG9TY3JvbGwgLSBzdGFydCkgKyBzdGFydCkpO1xuXG5cdFx0XHRpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID49IGRlc3RpbmF0aW9uT2Zmc2V0VG9TY3JvbGwgLSAxKSB7XG5cdFx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2Nyb2xsKTtcblx0XHR9XG5cblx0XHRzY3JvbGwoKTtcblx0fVxuXG5cdHZhciBhbmNob3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZpc3VhbC1jdWVfX2xpbmsnKTtcblxuXHRhbmNob3JzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG5cdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXG5cdFx0XHR2YXIgaHJlZiA9IGVsLmhyZWYsXG5cdFx0XHQgICAgaWRUb1Njcm9sbFRvID0gaHJlZi5zdWJzdHJpbmcoaHJlZi5pbmRleE9mKCcjJykpLFxuXHRcdFx0ICAgIGVsVG9TY3JvbGxUbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkVG9TY3JvbGxUbyk7XG5cblx0XHRcdHNjcm9sbEl0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJycgKyBpZFRvU2Nyb2xsVG8pLCAxMDAwLCAnZWFzZUluT3V0Q3ViaWMnKTtcblx0XHR9KTtcblx0fSk7XG59KSgpOyJdfQ==
